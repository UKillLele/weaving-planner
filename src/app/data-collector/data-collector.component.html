<div>
    <div>
        <!-- [expanded]="viewPatternInfo" -->
        <div >
            <header>
            <div>
                Pattern Information
            </div>
            </header>
            <section>
                <div>
                    <div>pattern name</div>
                    <input matInput type="text" [(ngModel)]="name">
                    <button *ngIf="name" matSuffix div-button aria-label="Clear" (click)="name=''">
                        <div>close</div>
                    </button>
                </div>
                <div>
                    <div>shafts</div>
                    <input matInput type="number" [(ngModel)]="shafts">
                </div>
                <div>
                    <div>treadles</div>
                    <input matInput type="number" [(ngModel)]="treadles">
                </div>
                <div matInput type="checkbox" (change)="trompChanged()" [(ngModel)]="trompAsWrit">tromp as writ</div>
                <div matInput type="checkbox" [(ngModel)]="halfSett">half sett</div>
                <button div (click)="openSRT()">SRT</button>
                <section>
                    <label class="subheading">Warp</label>
                    <div>
                        <div>pattern width</div>
                        <input matInput type="number" (change)="patternWidthChanged()" [(ngModel)]="patternWidth">
                        <span matSuffix>ends</span>
                    </div>
                    <div>
                        <div>ends per inch</div>
                        <input matInput type="number" [(ngModel)]="epi">
                    </div>
                    <div>
                        <div>width in loom</div>
                        <input matInput type="number" [(ngModel)]="workingWidth">
                        <span matSuffix>inches</span>
                    </div>
                    <div>
                        <div>selvage</div>
                        <input matInput type="number" [(ngModel)]="selvageWidth">
                        <span matSuffix>inches</span>
                    </div>
                    <div>
                        <div>loom waste</div>
                        <input matInput type="number" [(ngModel)]="waste">
                        <span matSuffix>inches</span>
                    </div>
                    <div class="mixed">
                        <div>finishing</div>
                        <!--  [(value)]="edgeType" -->
                        <select>
                            <option value="fringe">fringe</option>
                            <option value="hem">hem</option>
                        </select>
                        <input matSuffix matInput type="number" [(ngModel)]="edgeLength">
                        <span matSuffix>inches</span>
                    </div>
                    <div>
                        <div># of pieces</div>
                        <input matInput type="number" [(ngModel)]="pieces">
                    </div>
                    <div class="mixed">
                        <div>yarn type</div>
                        <!--  [(value)]="warpMaterial" -->
                        <select>
                            <option value="bamboo">bamboo</option>
                            <option value="cottolin">cottolin</option>
                            <option value="cotton">cotton</option>
                            <option value="hemp">hemp</option>
                            <option value="silk">silk</option>
                            <option value="tensel">tensel</option>
                            <option value="wool">wool</option>
                            <option value="wool/silk">wool/silk</option>
                        </select>
                    </div>
                    <div>
                        <div>draw-in</div>
                        <input matInput type="number" [(ngModel)]="warpDrawIn">
                        <span matSuffix>%</span>
                    </div>
                    <div>
                        <div>shrinkage</div>
                        <input matInput type="number" [(ngModel)]="warpShrinkage">
                        <span matSuffix>%</span>
                    </div>
                </section>
                <section>
                    <label class="subheading">Weft</label>
                    <div>
                        <div>pattern length</div>
                        <input matInput type="number" [(ngModel)]="patternLength" [disabled]="trompAsWrit">
                        <span matSuffix>picks</span>
                    </div>
                    <div>
                        <div>picks per inch</div>
                        <input matInput type="number" [(ngModel)]="ppi" [disabled]="trompAsWrit">
                    </div>
                    <div>
                        <div>length in loom</div>
                        <input matInput type="number" [(ngModel)]="workingLength">
                        <span matSuffix>inches</span>
                    </div>
                    <div class="mixed">
                        <div>yarn type</div>
                        <!-- [(value)]="weftMaterial" -->
                        <select >
                            <option value="bamboo">bamboo</option>
                            <option value="cottolin">cottolin</option>
                            <option value="cotton">cotton</option>
                            <option value="hemp">hemp</option>
                            <option value="silk">silk</option>
                            <option value="tensel">tensel</option>
                            <option value="wool">wool</option>
                            <option value="wool/silk">wool/silk</option>
                        </select>
                    </div>
                    <div>
                        <div>draw-in</div>
                        <input matInput type="number" [(ngModel)]="weftDrawIn">
                        <span matSuffix>%</span>
                    </div>
                    <div>
                        <div>shrinkage</div>
                        <input matInput type="number" [(ngModel)]="weftShrinkage">
                        <span matSuffix>%</span>
                    </div>
                </section>
            </section>
            <section align="end">
                <button div (click)="update()">Update</button>
            </section>
        </div>
    </div>

    <div>
        <div expanded="false">
            <header>
                <div>
                    Instructions
                </div>
            </header>
            <section>
            </section>
        </div>
    </div>

    <div>
        <div expanded="false">
            <header>
                <div>
                    Yarn Breakdown
                </div>
            </header>
            <section>
                <label>total yardage: {{totalIn / 36 | ceil }} yds</label>
                <label>total warp yardage: {{warpIn / 36 | ceil }} yds</label>
                <label>total weft yardage: {{weftIn / 36 | ceil }} yds</label>
                <div *ngFor="let color of colors">
                    <label>
                        {{color.colorName}}{{!color.perfectMatch ? "*" : ""}} 
                        <span style="width: 15px; height: 15px; display: inline-block;" [style.backgroundColor]="color.colorCode"></span>
                        : {{color.colorInches / 36 | ceil }} yds
                    </label>
                </div>
                <div *ngIf="colors.length > 0" style="font-size: 8pt;">color names provided by <a href="https://chir.ag/projects/name-that-color/#6195ED" style="color:aqua">Chirag Mehta</a>. * denotes imperfect match</div>
            </section>
            <section>
                <label>finished width:</label>
                <label>finished length:</label>
            </section>
            <section>
                <label>width repeats:</label>
                <label>length repeats:</label>
                <!-- project preview -->
            </section>
        </div>
    </div>
</div>

<!-- <ng-template #srtDialog>
    <h2 matDialogTitle>Scottish Registry of Tartans</h2>
    <div>
        <div>
            <label>Threadcount</label>
            <input type="text" placeholder="e.g. G20R4B40W4R4W4A40W4A40W4Y4" [(ngModel)]="srtThreadcount"/>
        </div>
        <div>
            <label>Palette</label>
            <textarea placeholder="e.g. W=E0E0E0WHITE;A=5C8CA8AZURE;R=C80000RED;B=2C2C80BLUE;G=006818GREEN;Y=E8C000YELLOW" [(ngModel)]="srtPalette"></textarea>
        </div>
    </div>
    <div align="end">
        <button div matDialogClose color="secondary">Cancel</button>
        <button div matDialogClose color="primary" (click)="useSRT()">OK</button>
    </div>
</ng-template> -->